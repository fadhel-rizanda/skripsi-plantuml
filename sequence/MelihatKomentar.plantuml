@startuml
' === Styling ===
skinparam sequence {
    LifelineFooterStrategy none
    MessageAlign center
    ArrowThickness 1
    ParticipantPadding 20
    GroupBorderThickness 0.5
    GroupBackgroundColor #F9F9F9
}
hide footbox

' === Participants ===
actor Pengguna
participant "Post Detail Page (Next.js FE)" as FE
participant "CommentController (Laravel BE)" as BE
database "Database (PostgreSQL)" as DB

' === Normal Flow: Melihat Komentar ===
Pengguna -> FE: Buka halaman detail postingan
activate FE
FE -> BE: GET /api/posts/{post_id}/comments
deactivate FE
activate BE
BE -> DB: Mengambil komentar berdasarkan post_id
deactivate BE
activate DB
alt Komentar tersedia
DB --> BE: Return list of comments
activate BE
    BE --> FE: 200 OK (List of comments)
    deactivate BE
    activate FE
    FE -> Pengguna: Tampilkan daftar komentar dan balasan
    deactivate FE
else Tidak ada komentar
DB --> BE: Return empty list
deactivate DB
activate BE
    BE --> FE: 200 OK (Empty list)
    deactivate BE
    activate FE
    FE -> Pengguna: Tampilkan pesan "No comments yet"
    deactivate FE
end
@enduml
