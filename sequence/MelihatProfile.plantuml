@startuml
' === Styling ===
skinparam sequence {
    LifelineFooterStrategy none
    MessageAlign center
    ArrowThickness 1
    ParticipantPadding 20
    GroupBorderThickness 0.5
    GroupBackgroundColor #F9F9F9
}
hide footbox

' === Participants ===
actor Pengguna
participant "Profile Page (Next.js FE)" as FE
participant "UserController (Laravel BE)" as BE
database "Database (PostgreSQL)" as DB

' === Normal Flow: Melihat Profil ===
Pengguna -> FE: Klik foto profil (navbar / profil pengguna lain)
activate FE
FE -> BE: GET /api/profile/{user_id}
deactivate FE
activate BE
BE -> DB: Mencari data user berdasarkan id
deactivate BE
activate DB
alt Profil ditemukan
DB --> BE: Return profile data
activate BE
    BE --> FE: 200 OK (Profile data)
    deactivate BE
    activate FE
    FE -> Pengguna: Tampilkan halaman profil dengan informasi lengkap
    deactivate FE

else Profil tidak ditemukan / user dihapus
    DB --> BE: Error (e.g., data not found / connection failure)
    deactivate DB
    activate BE
    BE --> FE: 404 Not Found ("Profile not found")
    deactivate BE
    activate FE
    FE -> Pengguna: Tampilkan pesan error "Profile not found"
    deactivate FE
end
@enduml
