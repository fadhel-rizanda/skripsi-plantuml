@startuml
' === Styling ===
skinparam sequence {
    LifelineFooterStrategy none
    MessageAlign center
    ArrowThickness 1
    ParticipantPadding 20
    GroupBorderThickness 0.5
    GroupBackgroundColor #F9F9F9
}
hide footbox

' === Participants ===
actor Pengguna
participant "Content Page (Next.js FE)" as FE
participant "ReportController (Laravel BE)" as BE
database "Database (PostgreSQL)" as DB

' === Flow: Melakukan Report Pelanggaran Konten ===
Pengguna -> FE: Klik ikon menu (â‹®) pada konten
activate FE
FE -> Pengguna: Tampilkan menu opsi (Report Content, Share, dll.)
deactivate FE

Pengguna -> FE: Pilih "Report Content"
activate FE
FE -> Pengguna: Tampilkan form laporan (alasan, deskripsi)
deactivate FE

Pengguna -> FE: Isi form dan klik "Submit Report"
activate FE
FE -> BE: POST /api/reports {content_id, reason, description}
deactivate FE
activate BE


    BE -> DB: Simpan laporan ke tabel reports
        deactivate BE
    activate DB

    alt Laporan berhasil disimpan
        DB --> BE: OK (Report saved)
        activate BE
        BE --> FE: 200 OK ("Report submitted successfully")
        deactivate BE
        activate FE
        FE -> Pengguna: Tampilkan pesan "Thank you for your report. We'll review it soon."
        deactivate FE

    else Gagal menyimpan laporan (DB error)
        DB --> BE: Error (e.g., constraint violation / connection failure)
        deactivate DB
        activate BE
        BE --> FE: 500 Internal Server Error ("Failed to submit report")
        deactivate BE
        activate FE
        FE -> Pengguna: Tampilkan pesan error "Failed to submit report. Please try again."
        deactivate FE
    end


@enduml